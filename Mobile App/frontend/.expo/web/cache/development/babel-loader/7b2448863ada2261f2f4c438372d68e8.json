{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Profile = function Profile(_ref) {\n  var _user$followers;\n\n  _objectDestructuringEmpty(_ref);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var navigation = useNavigation();\n  useEffect(function () {\n    var fetchProfile = function _callee() {\n      var response, _user;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"http://localhost:9000/profile/\" + userId));\n\n            case 3:\n              response = _context.sent;\n              _user = response.data.user;\n              setUser(_user);\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(\"error\", _context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    fetchProfile();\n  });\n\n  var logout = function logout() {\n    clearAuthToken();\n  };\n\n  var clearAuthToken = function _callee2() {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"authToken\"));\n\n          case 2:\n            console.log(\"Cleared auth token\");\n            navigation.replace(\"Login\");\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsx(View, {\n    style: {\n      marginTop: 55,\n      padding: 15\n    },\n    children: _jsxs(View, {\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"bold\"\n          },\n          children: user == null ? void 0 : user.name\n        }), _jsx(View, {\n          style: {\n            paddingHorizontal: 7,\n            paddingVertical: 5,\n            borderRadius: 8,\n            backgroundColor: \"#D0D0D0\"\n          },\n          children: _jsx(Text, {\n            children: \"Travelit.com\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 20,\n          marginTop: 15\n        },\n        children: [_jsx(View, {\n          children: _jsx(Image, {\n            style: {\n              width: 60,\n              height: 60,\n              borderRadius: 30,\n              resizeMode: \"contain\"\n            },\n            source: {\n              uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\"\n            }\n          })\n        }), _jsxs(View, {\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"BTech.\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Movie Buff | Musical Nerd\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 15,\n              fontWeight: \"400\"\n            },\n            children: \"Love Yourself\"\n          })]\n        })]\n      }), _jsxs(Text, {\n        style: {\n          color: \"gray\",\n          fontSize: 15,\n          marginTop: 10\n        },\n        children: [user == null ? void 0 : (_user$followers = user.followers) == null ? void 0 : _user$followers.length, \" followers\"]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          gap: 10,\n          marginTop: 20\n        },\n        children: [_jsx(Pressable, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Edit Profile\"\n          })\n        }), _jsx(Pressable, {\n          onPress: logout,\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            padding: 10,\n            borderColor: \"#D0D0D0\",\n            borderWidth: 1,\n            borderRadius: 5\n          },\n          children: _jsx(Text, {\n            children: \"Logout\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default Profile;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","AsyncStorage","useNavigation","Profile","user","setUser","navigation","fetchProfile","get","userId","response","data","console","log","logout","clearAuthToken","removeItem","replace","marginTop","padding","flexDirection","alignItems","gap","fontSize","fontWeight","name","paddingHorizontal","paddingVertical","borderRadius","backgroundColor","width","height","resizeMode","uri","color","followers","length","flex","justifyContent","borderColor","borderWidth","styles","StyleSheet","create"],"sources":["C:/Users/inush/OneDrive/Desktop/mobile test/mobile-frontend/src/screens/main/Profile.js"],"sourcesContent":["import { StyleSheet, Text, View, Image, Pressable } from \"react-native\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\n// import { UserType } from \"../UserContext\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst Profile = ({}) => {\r\n  const [user, setUser] = useState(\"\");\r\n  const navigation = useNavigation();\r\n  // const { userId, setUserId } = useContext(UserType);\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:9000/profile/${userId}`\r\n        );\r\n        const { user } = response.data;\r\n        setUser(user);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  });\r\n\r\n  const logout = () => {\r\n    clearAuthToken();\r\n  };\r\n  const clearAuthToken = async () => {\r\n    await AsyncStorage.removeItem(\"authToken\");\r\n    console.log(\"Cleared auth token\");\r\n    navigation.replace(\"Login\");\r\n  };\r\n\r\n  return (\r\n    <View style={{ marginTop: 55, padding: 15 }}>\r\n      <View>\r\n        <View style={{ flexDirection: \"row\", alignItems: \"center\", gap: 10 }}>\r\n          <Text style={{ fontSize: 20, fontWeight: \"bold\" }}>{user?.name}</Text>\r\n          <View\r\n            style={{\r\n              paddingHorizontal: 7,\r\n              paddingVertical: 5,\r\n              borderRadius: 8,\r\n              backgroundColor: \"#D0D0D0\",\r\n            }}\r\n          >\r\n            <Text>Travelit.com</Text>\r\n          </View>\r\n        </View>\r\n\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            gap: 20,\r\n            marginTop: 15,\r\n          }}\r\n        >\r\n          <View>\r\n            <Image\r\n              style={{\r\n                width: 60,\r\n                height: 60,\r\n                borderRadius: 30,\r\n                resizeMode: \"contain\",\r\n              }}\r\n              source={{\r\n                uri: \"https://cdn-icons-png.flaticon.com/128/149/149071.png\",\r\n              }}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>BTech.</Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Movie Buff | Musical Nerd\r\n            </Text>\r\n            <Text style={{ fontSize: 15, fontWeight: \"400\" }}>\r\n              Love Yourself\r\n            </Text>\r\n          </View>\r\n        </View>\r\n        <Text style={{ color: \"gray\", fontSize: 15, marginTop: 10 }}>\r\n          {user?.followers?.length} followers\r\n        </Text>\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            gap: 10,\r\n            marginTop: 20,\r\n          }}\r\n        >\r\n          <Pressable\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Edit Profile</Text>\r\n          </Pressable>\r\n\r\n          <Pressable\r\n            onPress={logout}\r\n            style={{\r\n              flex: 1,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              padding: 10,\r\n              borderColor: \"#D0D0D0\",\r\n              borderWidth: 1,\r\n              borderRadius: 5,\r\n            }}\r\n          >\r\n            <Text>Logout</Text>\r\n          </Pressable>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n\r\nconst styles = StyleSheet.create({});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}